<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="chrome-1">
  <meta charset="utf-8">
  <meta name="description" content="About Kurt Henry and how to contact him.">
  <meta name="author" content="Kurt Henry">
  <title>Henry, Kurt</title>
  <link rel="stylesheet" type="text/css" href="stylesheet.css">
  <link rel="stylesheet" type="text/javascript" href="javascript.js">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script>
  $(function(){
    $("#header").load("header.html");
    $("#footer").load("footer.html");
  });
</script>
</head>
<body>
  <div id="container">
    <div id="header"></div>
    <div class="section-centered">
      <h1>Hello, my name is Kurt Henry</h1>
      <p>  I develop web pages, sites, and applications for the web.  I pride myself on building responsive design, my acute aesthetic acumen, and ability to learn and digest new languages quickly.</p>
      <p>In my spare time you might find me coding, drawing, writing, reading, snowboarding, lifting weghts, or getting some chuckles out of people; because, contrary to what my wife says, I'm pretty darn funny.</p>
      <p>Want to work together?  Make some art, videos, sites, or games?  Or, if you'd like to hire me for a small role, please feel free to send me a message using the form bellow, ping me on <a href="https://twitter.com/lispless">Twitter</a>, or get connected on <a href="https://www.linkedin.com/in/kmhenry">LinkedIn</a>.</p>
      <p>My strengths are HTML, CSS, Bootstrap, and Foundation.  I'm compotent with Wordpress, Javascript, JQuery, Ruby, Ruby on Rails, PHP, SQL, PostreSQL, Active Record, Git, and a plethora of RubyGems.  Things that I'm okay at or starting to learn are Sass, Sinatra, node.js, and JSON.  I also enjoy using other technologies and learning new technologies like rpgmaker vx, GIMP, and any video editing software.  I look forward to learning Blender and Unreal Engine 4.</p>
      <p>-Best regards</br>Kurt Henry</p>
    </div>
    <aside id="form">
      <form id="contact-form" action="http://formspree.io/celfrost@hotmail.com" method="POST">
        <fieldset>
          <label class="form-required">
            <input type="text" name="name" placeholder="Name" data-validator="string">
          </label>

          <label class="form-required">
            <input type="email" name="_replyto" placeholder="Email" data-validator="email">
          </label>

          <input type="hidden" name="_next" value="/website-repo/thanks.html">
          <input type="hidden" name="_subject" value="Contact message from lispless gh-pages site">
          <input type="text" name="_gotcha" style="display:none">

          <label class="form-required">
            <textarea name="message" placeholder="Message" data-validator="string"></textarea>
          </label>
          <input class="button" type="submit" value="Send">
        </fieldset>
      </form>
    </aside>
    <div id="footer"></div>
  <div>

  <script>
      var FORM = {};
      var MINIMUM_STRING_LENGTH = 3;
      // http://stackoverflow.com/questions/2507030/email-validation-using-jquery
      var EMAIL_RE = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      var validators = {
        string: function(input) {
          return input.length > MINIMUM_STRING_LENGTH
        },
        email: function(input) {
          return EMAIL_RE.test(input);
        },
      }
      $(document).ready(function() {
        $('form label.form-required > input, form label.form-required > select').each(function(idx, item) {
          item = $(item);
          FORM[item.attr('name')] = {e: item, validator: item.attr('data-validator')}
        })
        $('form').on('submit', function(event) {
          event.preventDefault();
          console.log($(this).serializeArray())
          validateForm($(this).serializeArray())
        })
        function validateForm(serArray) {
          var results = [];
          serArray.forEach(function(item) {
            var isvalid = validators[FORM[item.name].validator](item.value);
            if (!isvalid) {
              FORM[item.name].e.parent().addClass('error')
            }
            else if (isvalid) {
              FORM[item.name].e.parent().removeClass('error')
            }
            results.push(isvalid);
          })
          return results.every(function(item) { return item; })
        }
      })
    </script>
</body>
</html>
